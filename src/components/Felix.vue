<template>
  <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏ Felix & Taffy —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º -->
  <div class="felix-universe">
    <!-- –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω —Å –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
    <div class="cosmic-background">
      <div class="stars-layer">
        <div 
          v-for="n in 15" 
          :key="`star-${n}`" 
          class="star" 
          :style="generateStarStyle()"
        ></div>
      </div>
      <div class="aurora-layer">
        <div class="aurora aurora-1"></div>
        <div class="aurora aurora-2"></div>
      </div>
    </div>

    <!-- –ì–µ—Ä–æ–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º -->
    <section class="hero-universe">
      <div class="hero-background">
        <img 
          src="https://plugjsubjcfblzkabjia.supabase.co/storage/v1/object/public/gallery/arts/1755535026253_tqx7wooiy3.png" 
          alt="Felix & Fox Taffy" 
          class="hero-bg-image"
          loading="lazy"
          ref="parallaxImageRef"
        >
        <div class="hero-overlay"></div>
      </div>
      <div class="hero-container">
        <div class="cosmic-title">
          <h1 class="universe-title">
            <span 
              v-for="(word, index) in titleWords" 
              :key="`title-${index}`"
              class="title-word" 
              :style="{ animationDelay: `${0.2 * (index + 1)}s` }"
            >
              {{ word }}
            </span>
          </h1>
          <div class="subtitle-constellation">
            <span class="constellation-text">Felix & Taffy</span>
            <div class="constellation-line"></div>
            <span class="year-badge">2020 - –î–æ –∫–æ–Ω—Ü–∞ –∂–∏–∑–Ω–∏</span>
          </div>
          
          <div class="scroll-indicator">
            <span>–õ–ò–°–¢–ê–ô –í–ù–ò–ó</span>
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M12 5L12 19M12 19L19 12M12 19L5 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
      </div>
    </section>

    <!-- –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º -->
    <nav class="story-navigation fixed-nav">
      <div class="nav-glass">
        <div class="nav-items">
          <button
            v-for="navItem in navigationItems"
            :key="navItem.id"
            :class="['nav-link', { active: activeSection === navItem.id }]"
            @click="navigateToSection(navItem.id)"
          >
            <i :class="navItem.icon"></i>
            <span>{{ navItem.label }}</span>
          </button>
        </div>
      </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π -->
    <main class="story-cosmos">
      
      <!-- 1. –ù–∞—á–∞–ª–æ –∏—Å—Ç–æ—Ä–∏–∏ -->
      <section id="beginning" class="story-chapter">
        <div class="chapter-container">
          <div class="chapter-header">
            <div class="chapter-number">01</div>
            <h2 class="chapter-title">–ö–∞–∫ –≤—Å—ë –Ω–∞—á–∏–Ω–∞–ª–æ—Å—å</h2>
            <div class="chapter-subtitle">Discord ‚Ä¢ CS:GO ‚Ä¢ 2020</div>
          </div>
          
          <div class="story-flow">
            <div 
              v-for="(moment, index) in storyMoments" 
              :key="`moment-${index}`"
              class="story-moment"
              :class="{ 'quote-moment': moment.isQuote }"
            >
              <div class="moment-content glass-panel" :class="{ 'quote-panel': moment.isQuote }">
                <div v-if="!moment.isQuote" class="moment-icon">
                  <i :class="moment.icon"></i>
                </div>
                <div v-if="moment.isQuote" class="quote-mark">"</div>
                <div class="moment-text">
                  <h3 v-if="!moment.isQuote">{{ moment.title }}</h3>
                  <blockquote v-if="moment.isQuote">{{ moment.text }}</blockquote>
                  <p v-else>{{ moment.text }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 2. –ù–∞—à–∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ -->
      <section id="travels" class="story-chapter">
        <div class="chapter-container">
          <div class="chapter-header">
            <div class="chapter-number">02</div>
            <h2 class="chapter-title">–ù–∞—à–∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</h2>
            <div class="chapter-subtitle">–ö–∞—Ä—Ç–∞ –Ω–∞—à–∏—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π</div>
          </div>
          
          <div class="travels-showcase">
            <!-- –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div class="travels-controls">
              <button 
                class="control-btn prev" 
                @click="prevJourney" 
                :disabled="currentJourneyIndex === 0"
                aria-label="Previous journey"
              >
                <i class="fas fa-chevron-left"></i>
              </button>
              
              <div class="travels-dots">
                <button 
                  v-for="(journey, index) in journeys" 
                  :key="`dot-${index}`"
                  class="travel-dot" 
                  :class="{ active: currentJourneyIndex === index }"
                  @click="currentJourneyIndex = index"
                  :aria-label="`Journey ${journey.year}`"
                >
                  {{ journey.year }}
                </button>
              </div>
              
              <button 
                class="control-btn next" 
                @click="nextJourney" 
                :disabled="currentJourneyIndex === journeys.length - 1"
                aria-label="Next journey"
              >
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
            
            <!-- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è -->
            <div class="journey-display">
              <div class="journey-card glass-panel">
                <div class="journey-image">
                  <img 
                    :src="journeys[currentJourneyIndex].image" 
                    :alt="journeys[currentJourneyIndex].title"
                    loading="lazy"
                  >
                  <div class="journey-badge">{{ journeys[currentJourneyIndex].date }}</div>
                </div>
                <div class="journey-content">
                  <h3 class="journey-title">{{ journeys[currentJourneyIndex].title }}</h3>
                  <div class="journey-text">
                    <p class="journey-description">{{ journeys[currentJourneyIndex].description }}</p>
                    <div v-if="journeys[currentJourneyIndex].highlight" class="journey-highlight">
                      <div class="highlight-icon">‚ú®</div>
                      <p class="highlight-text">{{ journeys[currentJourneyIndex].highlight }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 3. –§–µ–ª–ª–∏ —Å –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ–º –∏–º–µ–Ω–∏ –∏ –Ω–∞—Å–ª–µ–¥–∏–µ–º -->
      <section id="felli" class="story-chapter felli-chapter">
        <div class="chapter-container">
          <div class="chapter-header">
            <div class="chapter-number">03</div>
            <h2 class="chapter-title">–ù–∞—à —Å—ã–Ω –§–µ–ª–ª–∏</h2>
            <div class="chapter-subtitle">–õ–∏—Å-–µ–Ω–æ—Ç–æ–≤–∏–¥–Ω—ã–π ‚Ä¢ –í–æ–ø–ª–æ—â–µ–Ω–∏–µ –Ω–∞—à–µ–π –ª—é–±–≤–∏</div>
          </div>
          
          <div class="felli-showcase-new">
            <!-- –ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏ —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—É–ª–æ–π -->
            <div class="felli-origin glass-panel">
              <div class="origin-content">
                <div class="origin-icon">üí°</div>
                <h3>–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏</h3>
                <div class="name-formula">
                  <span class="name-part taffy">Taffy</span>
                  <span class="plus">+</span>
                  <span class="name-part felix">Felix</span>
                  <span class="equals">=</span>
                  <span class="name-part result">Felly</span>
                </div>
                <p>–ò–º—è –§–µ–ª–ª–∏ —Ä–æ–¥–∏–ª–æ—Å—å –∏–∑ —Å–ª–∏—è–Ω–∏—è –Ω–∞—à–∏—Ö –∏–º—ë–Ω, —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä—É—è –µ–¥–∏–Ω—Å—Ç–≤–æ –∏ –∫—Ä–µ–ø–∫—É—é —Å–≤—è–∑—å –º–µ–∂–¥—É –Ω–∞–º–∏. –ö–∞–∂–¥—ã–π —Å–ª–æ–≥ –Ω–µ—Å—ë—Ç —á–∞—Å—Ç–∏—á–∫—É –Ω–∞—à–µ–π –ª—é–±–≤–∏.</p>
              </div>
            </div>
            
            <!-- –ü–æ—Ä—Ç—Ä–µ—Ç –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –§–µ–ª–ª–∏ -->
            <div class="felli-hero glass-panel">
              <div class="felli-portrait">
                <div class="portrait-container">
                  <img 
                    :src="fellyArtworks[currentFellyIndex].src" 
                    :alt="fellyArtworks[currentFellyIndex].title" 
                    class="main-portrait"
                    loading="lazy"
                  >
                  <div class="portrait-ring"></div>
                </div>
                <div class="felli-info">
                  <h3 class="felli-name">–§–ï–õ–õ–ò</h3>
                  <span class="felli-type">ü¶ä –õ–∏—Å-–µ–Ω–æ—Ç–æ–≤–∏–¥–Ω—ã–π ü¶å</span>
                  <p class="felli-intro">–í–æ–ø–ª–æ—â–µ–Ω–∏–µ –Ω–∞—à–µ–π –ª—é–±–≤–∏ –∏ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏. –ö–∞–∂–¥–∞—è –¥–µ—Ç–∞–ª—å –ø—Ä–æ–¥—É–º–∞–Ω–∞ —Å –∑–∞–±–æ—Ç–æ–π.</p>
                </div>
              </div>
              
              <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
              <div class="felli-variants">
                <h4>–í–∞—Ä–∏–∞–Ω—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h4>
                <div class="variants-grid">
                  <div 
                    v-for="(artwork, index) in fellyArtworks" 
                    :key="`artwork-${index}`"
                    class="variant-item" 
                    :class="{ active: currentFellyIndex === index }"
                    @click="currentFellyIndex = index"
                  >
                    <img 
                      :src="artwork.src" 
                      :alt="artwork.title"
                      loading="lazy"
                    >
                    <span class="variant-name">{{ artwork.title }}</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- –ù–∞—Å–ª–µ–¥–∏–µ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª–µ–π —Å –∏–∫–æ–Ω–∫–∞–º–∏ -->
            <div class="felli-heritage">
              <div 
                v-for="heritage in heritageData" 
                :key="heritage.id"
                class="heritage-card glass-panel"
                :class="heritage.className"
              >
                <div class="heritage-header">
                  <div class="heritage-icon">{{ heritage.emoji }}</div>
                  <h4>{{ heritage.title }}</h4>
                </div>
                <div class="heritage-abilities">
                  <div 
                    v-for="ability in heritage.abilities" 
                    :key="ability.name"
                    class="ability"
                  >
                    <i :class="ability.icon"></i>
                    <span>{{ ability.name }}</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- –¶–∏—Ç–∞—Ç–∞ –æ –§–µ–ª–ª–∏ -->
            <div class="felli-quote glass-panel">
              <div class="quote-icon">üí´</div>
              <blockquote>
                "–í –µ–≥–æ –≥–ª–∞–∑–∞—Ö –∂–∏–≤—ë—Ç –Ω–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è, –∞ –≤ —É–ª—ã–±–∫–µ ‚Äî –Ω–∞–¥–µ–∂–¥–∞ –Ω–∞ –±—É–¥—É—â–∏–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–µ"
              </blockquote>
              <cite>‚Äî Fox Taffy & Felix</cite>
            </div>
          </div>
        </div>
      </section>

      <!-- 4. –ì–∞–ª–µ—Ä–µ—è —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π -->
      <section id="gallery" class="story-chapter gallery-chapter fullwidth">
        <div class="chapter-header">
          <div class="chapter-number">04</div>
          <h2 class="chapter-title">–ì–∞–ª–µ—Ä–µ—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π</h2>
          <div class="chapter-subtitle">–ù–∞—à–∏ –º–æ–º–µ–Ω—Ç—ã –≤ –∫–∞–¥—Ä–µ</div>
        </div>
        
        <div class="gallery-showcase">
          <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ -->
          <div v-if="isGalleryLoading" class="gallery-loading">
            <div class="loading-spinner">
              <div class="spinner"></div>
            </div>
            <p class="loading-text">–ó–∞–≥—Ä—É–∂–∞–µ–º –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è...</p>
          </div>
          
          <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–∫–∏ -->
          <div v-else-if="galleryError" class="gallery-error">
            <div class="error-icon">‚ö†Ô∏è</div>
            <p class="error-text">{{ galleryError }}</p>
            <p class="error-subtext">–ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
          </div>
          
          <!-- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –ª–∞–π—Ç–±–æ–∫—Å–∞ -->
          <div v-else class="gallery-grid">
            <div 
              v-for="(photo, index) in galleryPhotos" 
              :key="`photo-${index}`"
              class="gallery-item"
            >
              <div class="gallery-image">
                <img 
                  :src="photo.src" 
                  :alt="photo.caption"
                  loading="lazy"
                  decoding="async"
                >
              </div>
              <div class="gallery-caption">
                <p>{{ photo.caption }}</p>
              </div>
            </div>
          </div>
          
          <div class="gallery-controls">
            <div class="gallery-info">
              <span class="gallery-count">{{ galleryPhotos.length }} –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π</span>
            </div>
            <div class="gallery-buttons">
              <a 
                href="https://foxtaffy.fun/gallery" 
                target="_blank" 
                class="gallery-btn external"
                rel="noopener noreferrer"
              >
                <i class="fas fa-external-link-alt"></i>
                <span>–ü–æ–ª–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è</span>
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- 5. –§–∞–∫—Ç—ã —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ª–∏–Ω–∏–µ–π -->
      <section id="facts" class="story-chapter facts-section">
        <div class="chapter-container">
          <div class="chapter-header">
            <div class="chapter-number">05</div>
            <h2 class="chapter-title">10 —Ñ–∞–∫—Ç–æ–≤ –æ –Ω–∞—Å</h2>
            <div class="chapter-subtitle">–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –Ω–∞—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏</div>
          </div>
          
          <div class="facts-timeline">
            <div class="timeline-line"></div>
            <div class="facts-list">
              <div 
                v-for="(fact, index) in factsData" 
                :key="`fact-${index}`"
                class="fact-item" 
                :class="{ active: selectedFactIndex === index }"
                @click="toggleFact(index)"
                role="button"
                tabindex="0"
                @keydown.enter="toggleFact(index)"
                @keydown.space="toggleFact(index)"
                :style="{ animationDelay: `${0.1 * (index + 1)}s` }"
              >
                <div class="fact-number">{{ String(index + 1).padStart(2, '0') }}</div>
                <div class="fact-icon">
                  <i :class="fact.icon"></i>
                </div>
                <div class="fact-content">
                  <h3 class="fact-title">{{ fact.title }}</h3>
                  <p v-if="selectedFactIndex === index" class="fact-description">
                    {{ fact.description }}
                  </p>
                </div>
                <div class="fact-arrow">
                  <i 
                    class="fas fa-chevron-down" 
                    :class="{ rotated: selectedFactIndex === index }"
                  ></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 6. –ü–∏—Å—å–º–æ –ª—é–±–≤–∏ -->
      <section id="letter" class="story-chapter letter-chapter">
        <div class="chapter-container">
          <div class="chapter-header">
            <div class="chapter-number">06</div>
            <h2 class="chapter-title">–ú–æ—è –ø–æ–ª–æ–≤–∏–Ω–∫–∞</h2>
            <div class="chapter-subtitle">–ü–∏—Å—å–º–æ –æ—Ç —Å–µ—Ä–¥—Ü–∞ –∫ —Å–µ—Ä–¥—Ü—É</div>
          </div>
          
          <div class="love-letter-cosmos">
            <div class="letter-paper glass-panel">
              <div class="letter-header">
                <div class="letter-hearts">
                  <span 
                    v-for="(heart, index) in ['üíô', 'üíú', 'üß°']" 
                    :key="`heart-${index}`"
                    class="heart" 
                    :style="{ animationDelay: `${index}s` }"
                  >
                    {{ heart }}
                  </span>
                </div>
                <h3>–î–ª—è Felix</h3>
              </div>
              
              <div class="letter-content">
                <p 
                  v-for="(paragraph, index) in letterParagraphs" 
                  :key="`paragraph-${index}`"
                  class="letter-paragraph"
                >
                  {{ paragraph }}
                </p>
              </div>
              
              <div class="letter-signature">
                <div class="signature-line">
                  <span class="signature-text">–° –ª—é–±–æ–≤—å—é,</span>
                  <span class="signature-name">Fox Taffy</span>
                </div>
                <div class="signature-emoji">ü¶ä</div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ—É—Ç–µ—Ä -->
    <footer class="cosmos-footer">
      <div class="footer-content glass-panel">
        <div class="footer-copyright">
          <div class="copyright-text">
            <span>¬© 2025 Fox Taffy</span>
            <span class="separator">|</span>
            <a href="https://foxtaffy.fun" target="_blank" rel="noopener noreferrer">FoxTaffy.fun</a>
            <span class="separator">|</span>
            <span class="version">v.2.0</span>
          </div>
          <div class="footer-subtitle">
            –°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –¥–ª—è –ª—É—á—à–µ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏ üíï
          </div>
        </div>
      </div>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref, reactive, onMounted, onUnmounted, nextTick } from 'vue'
import { useHead } from '@vueuse/head'
import FelixImage from '@/assets/Felix/Felix.jpg'
// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API –∏–∑ supabase.js
import { furryApi } from '../config/supabase.js'

// –¢–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
interface NavigationItem {
  id: string
  label: string
  icon: string
}

interface StoryMoment {
  title?: string
  text: string
  icon?: string
  isQuote?: boolean
}

interface Journey {
  title: string
  date: string
  year: string
  description: string
  highlight?: string
  image: string
}

interface FellyArtwork {
  src: string
  title: string
  author: string
  caption: string
}

interface Heritage {
  id: string
  title: string
  emoji: string
  className: string
  abilities: Array<{ name: string; icon: string }>
}

interface Fact {
  icon: string
  title: string
  description: string
}

interface GalleryPhoto {
  src: string
  caption: string
  title?: string
}

// –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
const activeSection = ref<string>('beginning')
const currentJourneyIndex = ref<number>(0)
const currentFellyIndex = ref<number>(0)
const selectedFactIndex = ref<number | null>(null)

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–∞–ª–µ—Ä–µ–∏
const isGalleryLoading = ref<boolean>(true)
const galleryError = ref<string | null>(null)

// –°—Å—ã–ª–∫–∏ –Ω–∞ DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const parallaxImageRef = ref<HTMLImageElement>()

// –î–∞–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞
const titleWords = ref<string[]>(['–ò—Å—Ç–æ—Ä–∏—è', '–Ω–∞—à–µ–π', '–ª—é–±–≤–∏'])

useHead({
  title: "Felix & Fox Taffy ‚Äî –ò—Å—Ç–æ—Ä–∏—è –Ω–∞—à–µ–π –ª—é–±–≤–∏",
  meta: [
    {
      name: "description",
      content: "–ò—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏ Felix –∏ Fox Taffy —Å 2020 –≥–æ–¥–∞ –¥–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏: –ø–µ—Ä–≤—ã–µ –≤—Å—Ç—Ä–µ—á–∏, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –§–µ–ª–ª–∏, –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –ø–∏—Å—å–º–æ –æ—Ç —Å–µ—Ä–¥—Ü–∞."
    },
    {
      name: "keywords",
      content: "Felix, Fox Taffy, –ª—é–±–æ–≤—å, –∏—Å—Ç–æ—Ä–∏—è, —Ñ—É—Ä—Ä–∏, –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –§–µ–ª–ª–∏, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –≥–∞–ª–µ—Ä–µ—è, —Ñ–∞–∫—Ç—ã"
    },
    {
      property: "og:title",
      content: "Felix & Fox Taffy ‚Äî –ò—Å—Ç–æ—Ä–∏—è –Ω–∞—à–µ–π –ª—é–±–≤–∏"
    },
    {
      property: "og:description",
      content: "–ü—É—Ç—å –¥–≤—É—Ö —Å–µ—Ä–¥–µ—Ü: –æ—Ç Discord –∏ CS:GO –¥–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π, —Å—ã–Ω–∞ –§–µ–ª–ª–∏ –∏ –∂–∏–∑–Ω–∏ –≤–º–µ—Å—Ç–µ."
    },
    {
      property: "og:image",
      content: FelixImage
    },
    {
      property: "og:type",
      content: "article"
    },
    {
      property: "og:site_name",
      content: "FoxTaffy.fun"
    },
    {
      name: "twitter:card",
      content: "summary_large_image"
    },
    {
      name: "twitter:title",
      content: "Felix & Fox Taffy ‚Äî –ò—Å—Ç–æ—Ä–∏—è –Ω–∞—à–µ–π –ª—é–±–≤–∏"
    },
    {
      name: "twitter:description",
      content: "–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è: –≤—Å—Ç—Ä–µ—á–∏, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –§–µ–ª–ª–∏, —Ñ–∞–∫—Ç—ã –∏ –ø–∏—Å—å–º–æ –æ—Ç —Å–µ—Ä–¥—Ü–∞ ‚ù§Ô∏è"
    },
    {
      name: "twitter:image",
      content: FelixImage
    }
  ],
  link: [
    {
      rel: "canonical",
      href: "https://foxtaffy.fun/felix"
    }
  ]
})

// –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
const navigationItems = ref<NavigationItem[]>([
  { id: 'beginning', label: '–ù–∞—á–∞–ª–æ', icon: 'fas fa-play' },
  { id: 'travels', label: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è', icon: 'fas fa-map-marked-alt' },
  { id: 'felli', label: '–§–µ–ª–ª–∏', icon: 'fas fa-paw' },
  { id: 'gallery', label: '–ì–∞–ª–µ—Ä–µ—è', icon: 'fas fa-images' },
  { id: 'facts', label: '–§–∞–∫—Ç—ã', icon: 'fas fa-star' },
  { id: 'letter', label: '–ü–æ—Å–ª–∞–Ω–∏–µ', icon: 'fas fa-heart' }
])

// –ú–æ–º–µ–Ω—Ç—ã –∏—Å—Ç–æ—Ä–∏–∏
const storyMoments = ref<StoryMoment[]>([
  {
    title: '–ü–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞',
    text: '–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è –Ω–∞—á–∞–ª–∞—Å—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –≤ 2020 –≥–æ–¥—É, –∫–æ–≥–¥–∞ –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –≤ Discord —Å–µ—Ä–≤–µ—Ä–µ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã –≤ CS:GO. Felix ‚Äî –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –∏ —Å–æ–ª–Ω–µ—á–Ω—ã–π —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –º–Ω–µ —Å–≤–æ–∏–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º –∏ –≥–µ–π–º–ø–ª–µ–µ–º. –° –ø–µ—Ä–≤—ã—Ö –º–∏–Ω—É—Ç –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ –æ–Ω –ø–æ–∫–æ—Ä–∏–ª –º–µ–Ω—è.',
    icon: 'fab fa-discord'
  },
  {
    title: '–°–µ—Ä–¥—Ü–∞ —Å–±–ª–∏–∂–∞—é—Ç—Å—è',
    text: '–ù–∞—à–µ –æ–±—â–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ—Ä–æ—Å–ª–æ –≤ –Ω–µ—á—Ç–æ –±–æ–ª—å—à–µ–µ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –¥–æ–ª–≥–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –¥–æ –Ω–æ—á–∏, –∑–∞—Ç–µ–º —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –¥—É–æ –∏–≥—Ä—ã, –∏ –≤–æ—Ç —É–∂–µ –º—ã –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª–∏ —Å–≤–æ–∏—Ö –¥–Ω–µ–π –¥—Ä—É–≥ –±–µ–∑ –¥—Ä—É–≥–∞. –ù–∞—à–∞ —Å–≤—è–∑—å –∫—Ä–µ–ø–ª–∞ —Å –∫–∞–∂–¥–æ–π –≤—Å—Ç—Ä–µ—á–µ–π.',
    icon: 'fas fa-heart-pulse'
  },
  {
    text: '–ò–Ω–æ–≥–¥–∞ –æ–¥–∏–Ω –≤–∑–≥–ª—è–¥ –≥–æ–≤–æ—Ä–∏—Ç –±–æ–ª—å—à–µ —Ç—ã—Å—è—á–∏ —Å–ª–æ–≤, –∞ –≤—Å—Ç—Ä–µ—á–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º –º–µ–Ω—è–µ—Ç –≤—Å—é —Ç–≤–æ—é –∂–∏–∑–Ω—å',
    isQuote: true
  }
])

// –î–∞–Ω–Ω—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é
const journeys = ref<Journey[]>([
  {
    title: "–ü–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞",
    date: "–ê–≤–≥—É—Å—Ç 2022",
    year: "2022",
    description: "–ù–∞—à–∞ –ø–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞ –Ω–∞—á–∞–ª–∞—Å—å –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫–µ. –ú—ã –º–Ω–æ–≥–æ –≥—É–ª—è–ª–∏ –ø–æ –≥–æ—Ä–æ–¥—É, —á–∞—Å—Ç–æ –∫—É–ø–∞–ª–∏—Å—å –Ω–∞ –∫–∞—Ä—å–µ—Ä–∞—Ö. –ü–æ –ø—É—Ç–∏ –≤ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ –∑–∞–µ—Ö–∞–ª–∏ –≤ –ö—ã—à—Ç—ã–º, –≥–¥–µ –ø—Ä–æ–≤–µ–ª–∏ –≤—Ä–µ–º—è —Å –§–∏—Å–∫–æ–º. –í –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–µ –≥—É–ª—è–ª–∏ —Å –ü—Ä–æ—Å—Ç–∏–∫–æ–º, –ø–æ—Å–µ—Ç–∏–ª–∏ –∞–∫–≤–∞–ø–∞—Ä–∫ –∏ –∫–∏–±–µ—Ä-–∫–ª—É–±, –≥–¥–µ –ø—Ä–æ–≤–µ–ª–∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—É—é –Ω–æ—á—å.",
    highlight: "–õ–µ—Ç–æ —Å –ª—é–±–∏–º—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º ‚Äî —ç—Ç–æ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º–æ–µ –≤—Ä–µ–º—è. –•–æ—á–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ–Ω–æ –¥–ª–∏–ª–æ—Å—å –≤–µ—á–Ω–æ.",
    image: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/IMG20220812161755.jpg"
  },
  {
    title: "–ü–æ–µ–∑–¥–∫–∞ –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
    date: "–î–µ–∫–∞–±—Ä—å 2022",
    year: "2022",
    description: "–ó–∏–º–∞ –≤ –ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ –æ–∫–∞–∑–∞–ª–∞—Å—å —Å—É—Ä–æ–≤–æ–π. –ü—Ä–æ–≥—É–ª–∫–∏ –¥–∞–≤–∞–ª–∏—Å—å —Ç—è–∂–µ–ª–æ, –Ω–æ –Ω–∞—Å –∂–¥–∞–ª —Ç—ë–ø–ª—ã–π –ø—Ä–∏—ë–º. –í–æ–≤–∏–∫ –ø—Ä–∏—é—Ç–∏–ª –Ω–∞—Å –Ω–∞ –≤—Å—ë –≤—Ä–µ–º—è –ø–æ–µ–∑–¥–∫–∏. –ì–æ—Ä–æ–¥ —Ä–∞—Å–∫—Ä—ã–ª—Å—è –≤–æ –≤—Å–µ–π —Å–≤–æ–µ–π —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π –∫—Ä–∞—Å–µ. –í –Ω—ë–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤, –∫–∞—Ñ–µ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –º–µ—Å—Ç.",
    highlight: "–°—É—Ä–æ–≤—ã–π –∑–∏–º–Ω–∏–π –ü–∏—Ç–µ—Ä > –ó–∞–±–æ—Ç–∞ –ª—é–±–∏–º–æ–≥–æ –ß–µ–ª–æ–≤–µ–∫–∞ —Å 2—Ö –Ω–µ–¥–µ–ª—å–Ω—ã–º –ø–ª–æ–≤–æ–º.",
    image: "https://sun9-41.userapi.com/impg/5VQxr_0GrCyYoUTa6xdOU21brbom_6lGzV2K2w/YtEmSuXRJ-w.jpg?size=1280x960&quality=96&sign=a9975827c9e8f7994bd974d896cc2beb&type=album"
  },
  {
    title: "–ü–µ—Ä–µ–µ–∑–¥ –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫",
    date: "–Ø–Ω–≤–∞—Ä—å 2024 - –ê–≤–≥—É—Å—Ç 2024",
    year: "2024",
    description: "–í–∞–∂–Ω—ã–π —ç—Ç–∞–ø –≤ –Ω–∞—à–µ–π –∂–∏–∑–Ω–∏ - —Å–æ–≤–º–µ—Å—Ç–Ω—ã–π –ø–µ—Ä–µ–µ–∑–¥ –∏ –Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–π –≥–ª–∞–≤—ã –Ω–∞—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫–µ. –í—Ä–µ–º—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏, –Ω–æ–≤—ã—Ö –æ—Ç–∫—Ä—ã—Ç–∏–π –∏ —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è –Ω–∞—à–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π.",
    highlight: "–û–±—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ–±—â–µ–≥–æ –¥–æ–º–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—à–µ–≥–æ —É—é—Ç–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.",
    image: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/IMG20240110163945.jpg"
  },
  {
    title: "–ó–∏–º–Ω—è—è —Å–∫–∞–∑–∫–∞ –≤ –¢–∞–≥–∞–Ω–∞–µ",
    date: "–§–µ–≤—Ä–∞–ª—å 2024",
    year: "2024",
    description: "–ó–∏–º–Ω–∏–µ –∫–∞–Ω–∏–∫—É–ª—ã –º—ã —Ä–µ—à–∏–ª–∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤ –∑–∞—Å–Ω–µ–∂–µ–Ω–Ω–æ–º –¢–∞–≥–∞–Ω–∞–µ. –ü—Ä–æ–≥—É–ª–∫–∏ –≤ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—É—é —à–∞—Ö—Ç—É, –ª–µ–¥—è–Ω—ã–µ –ø–µ—â–µ—Ä—ã –∏ —É—é—Ç–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –Ω–æ—á—å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è —Ñ–∏–ª—å–º—ã ‚Äî —ç—Ç–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ–¥–∞—Ä–∏–ª–æ –Ω–∞–º —Å—Ç–æ–ª—å–∫–æ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã—Ö –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π.",
    highlight: "–Ø –≤–ø–µ—Ä–≤—ã–µ –≤—Å—Ç–∞–ª –Ω–∞ –ª—ã–∂–∏ –∏, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞–¥–µ–Ω–∏–π, –ø—Ä–æ–¥–æ–ª–∂–∞–ª –ø—Ä–æ–±–æ–≤–∞—Ç—å —Å —Ç–∞–∫–∏–º —ç–Ω—Ç—É–∑–∏–∞–∑–º–æ–º, —á—Ç–æ –∫ –∫–æ–Ω—Ü—É –¥–Ω—è —É–∂–µ —É–≤–µ—Ä–µ–Ω–Ω–æ —Å–ø—É—Å–∫–∞–ª—Å—è —Å –ø—Ä–æ–±–∏—Ç–æ–π –ø–µ—á–µ–Ω—å—é.",
    image: "https://sun9-37.userapi.com/impg/mu692ERc9kJ5iPk5Oh9Qh9As2Sfdv6GkO-UIiw/GUq0EqcQekk.jpg?size=2560x1440&quality=95&sign=71298950d9d4e701681bcc4be71e5870&type=album"
  },
  {
    title: "–ù–æ–≤—ã–π –≥–æ–¥ –≤ –ú–æ—Å–∫–≤–µ",
    date: "–ê–ø—Ä–µ–ª—å 2024",
    year: "2024",
    description: "–ü–æ–µ–∑–¥–∫–∞ –§–µ–ª–∏–∫—Å–∞ –≤ –ú–æ—Å–∫–≤—É –≤ –ø—Ä–µ–¥–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –±—ã–ª–∏ –¥–ª—è –º–µ–Ω—è –æ—á–µ–Ω—å –æ—à–µ–ª–æ–º–∏—Ç–µ–ª—å–Ω—ã–º–∏. –ì—É–ª—è–ª –ø–æ –ú–æ—Å–∫–≤–µ –≤–º–µ—Å—Ç–µ —Å–æ —Å–≤–æ–∏–º–∏ –¥—Ä—É–∑—å—è–º–∏ –∏ –í–∞–Ω–µ–π —è –¥–∞–∂–µ –Ω–µ –∑–∞–º–µ—á–∞–ª —á—Ç–æ –±–æ–ª–µ–ª –≤—Å—ë —ç—Ç–æ –≤—Ä–µ–º—è. –ù–æ—á–Ω–∞—è –ú–æ—Å–∫–≤–∞ –ø–æ–∫–æ—Ä–∏–ª–∞ –Ω–∞—à–∏ —Å–µ—Ä–¥—Ü–∞ —Å–≤–æ–µ–π –º–æ—â—å—é –∏ –∫—Ä–∞—Å–æ—Ç–æ–π.",
    highlight: "–ù–æ–≤—ã–π –≥–æ–¥ –ø—Ä–æ—à—ë–ª –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ, –≤—ã–Ω–µ—Å–ª–æ –∫–æ–Ω–µ—á–Ω–æ –æ—Ç –µ–≥–µ—Ä—è, –Ω–æ —ç—Ç–æ —Ç–æ–≥–æ —Å—Ç–æ–∏—Ç.",
    image: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/20241229_162506.jpg"
  },
  {
    title: "–ù–æ–≤—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã",
    date: "–°–∫–æ—Ä–æ...",
    year: "2025",
    description: "–ù–∞—à–∏ –ø–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ –ø–æ–ª–Ω—ã –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π. –ú—ã –º–µ—á—Ç–∞–µ–º –æ –ø–æ–µ–∑–¥–∫–µ –≤ –Ø–ø–æ–Ω–∏—é, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –ù–æ—Ä–≤–µ–≥–∏–∏ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏ –ø–æ –¢—Ä–∞–Ω—Å—Å–∏–±–∏—Ä—Å–∫–æ–π –º–∞–≥–∏—Å—Ç—Ä–∞–ª–∏. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å Felix ‚Äî —ç—Ç–æ –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ.",
    highlight: "–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –Ω–µ –º–µ—Å—Ç–æ, –∞ —á–µ–ª–æ–≤–µ–∫, —Å –∫–æ—Ç–æ—Ä—ã–º —Ç—ã —Ä–∞–∑–¥–µ–ª—è–µ—à—å —ç—Ç–∏ –º–æ–º–µ–Ω—Ç—ã.",
    image: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/IMG20230723080549.jpg"
  }
])

// –ì–∞–ª–µ—Ä–µ—è –∞—Ä—Ç–æ–≤ –§–µ–ª–ª–∏
const fellyArtworks = ref<FellyArtwork[]>([
  { 
    src: "https://plugjsubjcfblzkabjia.supabase.co/storage/v1/object/public/gallery/avatars/Felly.jpg",
    title: "–û—Å–Ω–æ–≤–Ω–æ–π –¥–∏–∑–∞–π–Ω",
    author: "Fox Taffy & Felix",
    caption: "–ü–µ—Ä–≤—ã–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∞—Ä—Ç –Ω–∞—à–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –§–µ–ª–ª–∏"
  },
  { 
    src: "https://plugjsubjcfblzkabjia.supabase.co/storage/v1/object/public/gallery/avatars/Felly1.jpg",
    title: "–ò–≥—Ä–∏–≤–∞—è –≤–µ—Ä—Å–∏—è",
    author: "Fox Taffy",
    caption: "–§–µ–ª–ª–∏ –≤ –∏–≥—Ä–∏–≤–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä"
  },
  { 
    src: "https://plugjsubjcfblzkabjia.supabase.co/storage/v1/object/public/gallery/avatars/Felly3.jpg",
    title: "–ú–∏–ª—ã–π —Å—Ç–∏–ª—å",
    author: "Felix",
    caption: "–ë–æ–ª–µ–µ –º—è–≥–∫–∞—è –∏ –º–∏–ª–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞"
  },
  {
    src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/referencefelly.png",
    title: "–†–µ—Ñ–µ—Ä–µ–Ω—Å-–ª–∏—Å—Ç",
    author: "Fox Taffy & Felix", 
    caption: "–ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å–æ –≤—Å–µ–º–∏ –¥–µ—Ç–∞–ª—è–º–∏ –∏ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–æ–π"
  }
])

// –ù–∞—Å–ª–µ–¥–∏–µ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª–µ–π —Å –∏–∫–æ–Ω–∫–∞–º–∏
const heritageData = ref<Heritage[]>([
  {
    id: 'felix-heritage',
    title: '–û—Ç Felix',
    emoji: 'ü¶å',
    className: 'felix-heritage',
    abilities: [
      { name: '–ò–≥—Ä–∏–≤–æ—Å—Ç—å', icon: 'fas fa-sun' },
      { name: '–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–≤–µ—Ç', icon: 'fas fa-star' },
      { name: '–î—É—à–µ–≤–Ω–æ—Å—Ç—å', icon: 'fas fa-heart' }
    ]
  },
  {
    id: 'taffy-heritage',
    title: '–û—Ç Taffy',
    emoji: 'ü¶ä',
    className: 'taffy-heritage',
    abilities: [
      { name: '–≠–Ω–µ—Ä–≥–∏—è', icon: 'fas fa-bolt' },
      { name: '–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å', icon: 'fas fa-running' },
      { name: '–•–∏—Ç—Ä–æ—Å—Ç—å', icon: 'fas fa-brain' },
      { name: '–Ø—Ä–∫–æ—Å—Ç—å', icon: 'fas fa-fire' }
    ]
  },
  {
    id: 'unique-heritage',
    title: '–£–Ω–∏–∫–∞–ª—å–Ω–∞—è –º–∞–≥–∏—è',
    emoji: '‚ú®',
    className: 'unique-heritage',
    abilities: [
      { name: '–ï–Ω–æ—Ç–æ–≤–∏–¥–Ω–æ—Å—Ç—å', icon: 'fas fa-yin-yang' },
      { name: '–°–≤—è–∑—É—é—â–µ–µ –∑–≤–µ–Ω–æ', icon: 'fas fa-link' },
      { name: '–ì–µ–π–º–µ—Ä—Å–∫–∏–π –¥—É—Ö', icon: 'fas fa-gamepad' }
    ]
  }
])

// –û—Å–Ω–æ–≤–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π - —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ Supabase
const galleryPhotos = ref<GalleryPhoto[]>([])

// –§–∞–∫—Ç—ã —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ª–∏–Ω–∏–µ–π
const factsData = ref<Fact[]>([
  {
    icon: "fas fa-gamepad",
    title: "–ì–µ–π–º–µ—Ä—ã –Ω–∞–≤—Å–µ–≥–¥–∞",
    description: "–û–±–æ–∂–∞–µ–º –∏–≥—Ä–∞—Ç—å –≤–º–µ—Å—Ç–µ –≤ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã. –ù–∞—à–∏ –ª—é–±–∏–º—ã–µ ‚Äî Minecraft –∏ CS2. –ü–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å –∏–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ CS:GO!"
  },
  {
    icon: "fas fa-film",
    title: "–ö–∏–Ω–æ–º–∞—Ä–∞—Ñ–æ–Ω—ã",
    description: "–õ—é–±–ª—é –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–º–µ—à–Ω—ã–µ –≤–∏–¥–µ–æ TikTok —Å –§–µ–ª–∏–∫—Å–æ–º. –¢–∞–∫ –∂–µ —É –Ω–∞—Å –µ—Å—Ç—å —Ç—Ä–∞–¥–∏—Ü–∏—è - —Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∏–ª—å–º—ã –ø–æ –≤—ã—Ö–æ–¥–Ω—ã–º —Å –ø–æ–ø–∫–æ—Ä–Ω–æ–º."
  },
  {
    icon: "fas fa-utensils",
    title: "–ö—É–ª–∏–Ω–∞—Ä–Ω—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã",
    description: "–ö–∞–∂–¥—ã–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –º—ã –≥–æ—Ç–æ–≤–∏–º —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ. Felix –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞, —è ‚Äî –∑–∞ –¥–µ—Å–µ—Ä—Ç—ã. –ù–∞—à–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –¥–æ–º–∞—à–Ω—è—è –ø–∏—Ü—Ü–∞!"
  },
  {
    icon: "fas fa-paw",
    title: "–§—É—Ä—Ä–∏-–∫—É–ª—å—Ç—É—Ä–∞",
    description: "–ù–∞—à–∏ —Ñ—É—Ä—Å—å—é—Ç—ã —Å–∫–æ—Ä–æ –±—É–¥—É—Ç —á–∞—Å—Ç–æ –ø–æ–ø–∞–¥–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ö –≤–º–µ—Å—Ç–µ."
  },
  {
    icon: "fas fa-music",
    title: "–û–±—â–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã",
    description: "–£ –Ω–∞—Å –æ–±—â–∏–π –ø–ª–µ–π–ª–∏—Å—Ç –∏–∑ 500+ –ø–µ—Å–µ–Ω. –ú—ã –æ–±–∞ –ª—é–±–∏–º –ø–æ–ø –∏ –∏–Ω–¥–∏-—Ä–æ–∫."
  },
  {
    icon: "fas fa-map-marked-alt",
    title: "–ü—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏",
    description: "–ó–∞ –≤—Ä–µ–º—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –º—ã –ø–æ—Å–µ—Ç–∏–ª–∏ –≤–º–µ—Å—Ç–µ 6 –≥–æ—Ä–æ–¥–æ–≤ –∏ –ø–ª–∞–Ω–∏—Ä—É–µ–º –ø–æ–µ–∑–¥–∫—É –≤ –°–®–ê. –ö–∞–∂–¥–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ ‚Äî –Ω–æ–≤—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è."
  },
  {
    icon: "fas fa-calendar-heart",
    title: "–û—Å–æ–±—ã–µ –¥–∞—Ç—ã",
    description: "–ù–∞—à–∞ –ø–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞ –±—ã–ª–∞ –≤ –∞–≤–≥—É—Å—Ç–µ 2022 –≥–æ–¥–∞. –° —Ç–µ—Ö –ø–æ—Ä –∫–∞–∂–¥—ã–µ –ø–æ–ª–≥–æ–¥–∞ –º—ã –æ—Ç–º–µ—á–∞–µ–º –º–∞–ª–µ–Ω—å–∫–∏–µ –≥–æ–¥–æ–≤—â–∏–Ω—ã."
  },
  {
    icon: "fas fa-star",
    title: "–ó–∞–≥–∞–¥—ã–≤–∞–Ω–∏–µ –∂–µ–ª–∞–Ω–∏–π",
    description: "–£ –Ω–∞—Å –µ—Å—Ç—å —Ç—Ä–∞–¥–∏—Ü–∏—è –∑–∞–≥–∞–¥—ã–≤–∞—Ç—å –∂–µ–ª–∞–Ω–∏—è –Ω–∞ –ø–∞–¥–∞—é—â–∏–µ –∑–≤–µ–∑–¥—ã. –ü–æ–∫–∞ —Å–±—ã–ª–æ—Å—å 7 –∏–∑ 12 –∑–∞–≥–∞–¥–∞–Ω–Ω—ã—Ö –∂–µ–ª–∞–Ω–∏–π!"
  },
  {
    icon: "fas fa-heart",
    title: "–Ø–∑—ã–∫ –ª—é–±–≤–∏",
    description: "–ú—ã –æ–±—â–∞–µ–º—Å—è –Ω–∞ –æ—Å–æ–±–æ–º —è–∑—ã–∫–µ –º–µ–º–æ–≤, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —à—É—Ç–æ–∫ –∏ –Ω–µ–∂–Ω—ã—Ö –ø—Ä–æ–∑–≤–∏—â. Felix –Ω–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—è '–¢–∏—Ñ—Ñ–∞–Ω–∏', –∞ —è –µ–≥–æ '–í–∞–Ω—å–∫–∞'."
  }
])

// –ü–∞—Ä–∞–≥—Ä–∞—Ñ—ã –ø–∏—Å—å–º–∞
const letterParagraphs = ref<string[]>([
  'Felix, —Ç—ã –Ω–∞–ø–æ–ª–Ω–∏–ª –º–æ—é –∂–∏–∑–Ω—å –∫—Ä–∞—Å–∫–∞–º–∏, —Å–º—ã—Å–ª–æ–º –∏ —Ä–∞–¥–æ—Å—Ç—å—é. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π ‚Äî —ç—Ç–æ –¥–∞—Ä. –¢–≤–æ—è —É–ª—ã–±–∫–∞ –æ—Å–≤–µ—â–∞–µ—Ç –¥–∞–∂–µ —Å–∞–º—ã–µ —Ç–µ–º–Ω—ã–µ –¥–Ω–∏, –∞ —Ç–≤–æ—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∞–µ—Ç —Å–∏–ª—ã –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥.',
  '–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è, –∏ —è —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥—É –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –≥–ª–∞–≤—ã, –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è, –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –¥–Ω—è, –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –≤–º–µ—Å—Ç–µ. –°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏, –º–æ—è –ª—é–±–æ–≤—å.'
])

// –ú–µ—Ç–æ–¥—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

/**
 * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∑–≤–µ–∑–¥ –≤ —Ñ–æ–Ω–µ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
 * @returns –û–±—ä–µ–∫—Ç —Å CSS-—Å—Ç–∏–ª—è–º–∏ –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–≤–µ–∑–¥
 */
const generateStarStyle = () => ({
  left: Math.random() * 100 + '%',
  top: Math.random() * 100 + '%',
  animationDelay: Math.random() * 3 + 's',
  animationDuration: (Math.random() * 2 + 1.5) + 's'
})

/**
 * –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏ —Å –ø–ª–∞–≤–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º
 * @param sectionId - ID —Ü–µ–ª–µ–≤–æ–π —Å–µ–∫—Ü–∏–∏
 */
const navigateToSection = (sectionId: string) => {
  activeSection.value = sectionId
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

/**
 * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≤ –∫–∞—Ä—É—Å–µ–ª–∏
 */
const prevJourney = () => {
  if (currentJourneyIndex.value > 0) {
    currentJourneyIndex.value--
  } else {
    currentJourneyIndex.value = journeys.value.length - 1
  }
}

/**
 * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≤ –∫–∞—Ä—É—Å–µ–ª–∏
 */
const nextJourney = () => {
  if (currentJourneyIndex.value < journeys.value.length - 1) {
    currentJourneyIndex.value++
  } else {
    currentJourneyIndex.value = 0
  }
}

/**
 * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —Ñ–∞–∫—Ç–∞
 * @param index - –ò–Ω–¥–µ–∫—Å —Ñ–∞–∫—Ç–∞
 */
const toggleFact = (index: number) => {
  selectedFactIndex.value = selectedFactIndex.value === index ? null : index
}

/**
 * –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –ø–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å throttling
 */
let ticking = false
const handleScroll = () => {
  if (!ticking) {
    requestAnimationFrame(() => {
      const scrollPosition = window.scrollY
      if (parallaxImageRef.value) {
        parallaxImageRef.value.style.transform = `translate3d(0, ${scrollPosition * 0.3}px, 0)`
      }
      ticking = false
    })
    ticking = true
  }
}

/**
 * –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Intersection Observer
 */
const initializeIntersectionObserver = () => {
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-in')
        // –û—Ç–∫–ª—é—á–∞–µ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        observer.unobserve(entry.target)
      }
    })
  }, observerOptions)

  // –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
  nextTick(() => {
    document.querySelectorAll('.story-chapter, .story-moment, .fact-item').forEach(el => {
      observer.observe(el)
    })
  })
}

/**
 * ‚úÖ –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–ê–Ø –∑–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ç–æ–≤ Felix (—É–º–Ω—ã–π –ø–æ–∏—Å–∫)
 * @returns Promise —Å –º–∞—Å—Å–∏–≤–æ–º –∞—Ä—Ç–æ–≤
 */
const loadFelixGallery = async (): Promise<GalleryPhoto[]> => {
  try {
    isGalleryLoading.value = true
    galleryError.value = null

    console.log('üîç –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ç–æ–≤ Felix...')

    // ‚úÖ –®–ê–ì 1: –ü—Ä–æ–±—É–µ–º –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–≥—É "Felix"
    let felixArts = await furryApi.getFurryArts({
      tags: ['Felix'],
      limit: 50,
      showNsfw: false,
      sort: 'newest'
    })

    // ‚úÖ –®–ê–ì 2: –ï—Å–ª–∏ –Ω–µ—Ç —Ç–µ–≥–∞, –∏—â–µ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
    if (felixArts.length === 0) {
      console.log('üîç –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º –Ω–µ –¥–∞–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –∏—â–µ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...')
      felixArts = await furryApi.getFurryArts({
        search: 'Felix',
        limit: 50,
        showNsfw: false,
        sort: 'newest'
      })
    }

    // ‚úÖ –®–ê–ì 3: –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ, –∏—â–µ–º –ø–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º
    if (felixArts.length === 0) {
      console.log('ü¶ä –ò—â–µ–º –∞—Ä—Ç—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º Felix...')
      const allArts = await furryApi.getFurryArts({
        limit: 100,
        showNsfw: false,
        sort: 'newest'
      })
      
      felixArts = allArts.filter(art => 
        art.depicted_fursona_names?.some((name: string) => 
          name.toLowerCase().includes('felix')
        ) ||
        art.characters?.some((char: any) => 
          char.name?.toLowerCase().includes('felix')
        )
      )
      console.log(`ü¶ä –ü–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º –Ω–∞–π–¥–µ–Ω–æ: ${felixArts.length} –∞—Ä—Ç–æ–≤`)
    }

    // ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢
    if (felixArts.length > 0) {
      console.log(`‚úÖ –£—Å–ø–µ—Ö! –ù–∞–π–¥–µ–Ω–æ ${felixArts.length} –∞—Ä—Ç–æ–≤ Felix`)
      galleryError.value = null
      
      // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ API –≤ —Ñ–æ—Ä–º–∞—Ç GalleryPhoto
      return felixArts.map((art: any) => ({
        src: art.thumbnail_url || art.image_url,
        caption: art.title || '–ê—Ä—Ç –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
        title: art.title || '–ê—Ä—Ç –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'
      }))
    } else {
      console.log('üî≠ –ù–µ –Ω–∞–π–¥–µ–Ω–æ –∞—Ä—Ç–æ–≤ Felix –Ω–∏ –ø–æ –æ–¥–Ω–æ–º—É –∫—Ä–∏—Ç–µ—Ä–∏—é')
      galleryError.value = '–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –∞—Ä—Ç–æ–≤ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º Felix'
      
      // –í–æ–∑–≤—Ä–∞—â–∞–µ–º fallback –¥–∞–Ω–Ω—ã–µ
      return [
        { 
          src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2F444kk.png", 
          caption: "–ù–∞—à–∞ –ø–µ—Ä–≤–∞—è —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ –≤ –ª–µ—Å",
          title: "–ü–æ–µ–∑–¥–∫–∞ –≤ –ª–µ—Å"
        },
        { 
          src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2F%D0%B1%D0%B5%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%8C%20.png", 
          caption: "Felix —Å–¥–µ–ª–∞–ª —ç—Ç–æ—Ç —Å–Ω–∏–º–æ–∫ –≤–æ –≤—Ä–µ–º—è —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏",
          title: "–§–æ—Ç–æ—Å–µ—Å—Å–∏—è –Ω–∞ –±–µ—Ä–µ–≥—É"
        },
        { 
          src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2Fzoktef3_5_1.png", 
          caption: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ñ—É—Ä—Ä–∏-–∫–æ–Ω–≤–µ–Ω—Ç—É –∑–∞–Ω—è–ª–∞ –¥–≤–∞ –º–µ—Å—è—Ü–∞",
          title: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–æ–Ω–≤–µ–Ω—Ç—É"
        },
        { 
          src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2Fzakaz__20250222081635.png", 
          caption: "–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—á–µ—Ä –Ω–∞ –ø–æ–±–µ—Ä–µ–∂—å–µ –§–∏–Ω—Å–∫–æ–≥–æ –∑–∞–ª–∏–≤–∞",
          title: "–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—á–µ—Ä"
        },
        { 
          src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2Fmoskva2.png", 
          caption: "Felix –ø–æ–º–æ–≥–∞–ª –º–Ω–µ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —ç—Ç–æ–≥–æ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞",
          title: "–†–∞–±–æ—Ç–∞ –Ω–∞–¥ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–º"
        },
        { 
          src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2F6G7LwzjFE90.jpg", 
          caption: "–ê—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π Felix –∑–∞–∫–∞–∑–∞–ª –Ω–∞ –Ω–∞—à—É –≥–æ–¥–æ–≤—â–∏–Ω—É",
          title: "–ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ –≥–æ–¥–æ–≤—â–∏–Ω—É"
        }
      ]
    }

  } catch (error) {
    console.error('üí• –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≥–∞–ª–µ—Ä–µ–∏:', error)
    galleryError.value = `–û—à–∏–±–∫–∞ API: ${error.message}`
    
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º fallback –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ
    return [
      { 
        src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2F444kk.png", 
        caption: "–ù–∞—à–∞ –ø–µ—Ä–≤–∞—è —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ –≤ –ª–µ—Å",
        title: "–ü–æ–µ–∑–¥–∫–∞ –≤ –ª–µ—Å"
      },
      { 
        src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2F%D0%B1%D0%B5%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%8C%20.png", 
        caption: "Felix —Å–¥–µ–ª–∞–ª —ç—Ç–æ—Ç —Å–Ω–∏–º–æ–∫ –≤–æ –≤—Ä–µ–º—è —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏",
        title: "–§–æ—Ç–æ—Å–µ—Å—Å–∏—è –Ω–∞ –±–µ—Ä–µ–≥—É"
      },
      { 
        src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2Fzoktef3_5_1.png", 
        caption: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ñ—É—Ä—Ä–∏-–∫–æ–Ω–≤–µ–Ω—Ç—É –∑–∞–Ω—è–ª–∞ –¥–≤–∞ –º–µ—Å—è—Ü–∞",
        title: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–æ–Ω–≤–µ–Ω—Ç—É"
      },
      { 
        src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2Fzakaz__20250222081635.png", 
        caption: "–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—á–µ—Ä –Ω–∞ –ø–æ–±–µ—Ä–µ–∂—å–µ –§–∏–Ω—Å–∫–æ–≥–æ –∑–∞–ª–∏–≤–∞",
        title: "–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—á–µ—Ä"
      },
      { 
        src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2Fmoskva2.png", 
        caption: "Felix –ø–æ–º–æ–≥–∞–ª –º–Ω–µ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —ç—Ç–æ–≥–æ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞",
        title: "–†–∞–±–æ—Ç–∞ –Ω–∞–¥ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–º"
      },
      { 
        src: "https://5e9762b1-f4cb-456c-a5a1-ee0773e66d88.selstorage.ru/Felix%2F6G7LwzjFE90.jpg", 
        caption: "–ê—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π Felix –∑–∞–∫–∞–∑–∞–ª –Ω–∞ –Ω–∞—à—É –≥–æ–¥–æ–≤—â–∏–Ω—É",
        title: "–ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ –≥–æ–¥–æ–≤—â–∏–Ω—É"
      }
    ]
  } finally {
    isGalleryLoading.value = false
  }
}

// –•—É–∫–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
onMounted(async () => {
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  initializeIntersectionObserver()
  
  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞ - —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
  window.addEventListener('scroll', handleScroll, { passive: true })
  
  // ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–∏ —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API
  console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∑–∞–≥—Ä—É–∑–∫–∞ –≥–∞–ª–µ—Ä–µ–∏ —á–µ—Ä–µ–∑ furryApi...')
  galleryPhotos.value = await loadFelixGallery()
  
  if (galleryPhotos.value.length > 0) {
    console.log(`üì∏ –ì–∞–ª–µ—Ä–µ—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞: ${galleryPhotos.value.length} –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π`)
  } else {
    console.log('üî≠ –ì–∞–ª–µ—Ä–µ—è –ø—É—Å—Ç–∞, –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î')
  }
})

onUnmounted(() => {
  // –û—á–∏—Å—Ç–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
  window.removeEventListener('scroll', handleScroll)
})
</script>

<style scoped>
/* –ò–º–ø–æ—Ä—Ç –≤–Ω–µ—à–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ */
@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

/* CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ */
:root {
  --bg-dark: #0C1217;
  --bg-darker: #080E12;
  --text-light: #F2F2F2;
  --text-muted: #A0A0A0;
  --accent-teal: #4ECDC4;
  --accent-teal-dark: #35A29F;
  --accent-orange: #ff7b25;
  --accent-green: #4caf50;
  --shadow: rgba(0, 0, 0, 0.2);
  --transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
}

/* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –∏ —Å–±—Ä–æ—Å */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}



/* –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ô –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω —Å –º–µ–Ω—å—à–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ */
.cosmic-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 25%, #0f0f23 50%, #000 100%);
  will-change: transform;
}

.stars-layer {
  position: absolute;
  width: 100%;
  height: 100%;
}

.star {
  position: absolute;
  width: 1px;
  height: 1px;
  background: white;
  border-radius: 50%;
  animation: twinkle linear infinite;
  will-change: opacity, transform;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}

/* –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–û–ï –ø–æ–ª—è—Ä–Ω–æ–µ —Å–∏—è–Ω–∏–µ */
.aurora-layer {
  position: absolute;
  width: 100%;
  height: 100%;
}

.aurora {
  position: absolute;
  height: 100%;
  width: 150%;
  opacity: 0.1;
  animation: aurora-flow 25s ease-in-out infinite;
  will-change: transform;
}

.aurora-1 {
  background: linear-gradient(45deg, transparent, #667eea, transparent);
  left: -25%;
  animation-delay: 0s;
}

.aurora-2 {
  background: linear-gradient(135deg, transparent, #764ba2, transparent);
  right: -25%;
  animation-delay: 12s;
}

@keyframes aurora-flow {
  0%, 100% { transform: translate3d(0, 0, 0) rotate(0deg); opacity: 0.05; }
  50% { transform: translate3d(30px, 0, 0) rotate(1deg); opacity: 0.15; }
}

/* –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ô Glassmorphism —ç—Ñ—Ñ–µ–∫—Ç */
.glass-panel {
  background: rgba(255, 255, 255, 0.02);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 20px;
  box-shadow: 
    0 4px 16px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.02);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  contain: layout style;
}

.glass-panel:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.1);
  transform: translateY(-2px);
  box-shadow: 
    0 8px 24px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* –ê–î–ê–ü–¢–ò–í–ù–´–ô –≥–µ—Ä–æ–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª */
.hero-universe {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  padding: clamp(1rem, 3vw, 2rem);
  overflow: hidden;
}

.hero-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

.hero-bg-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: blur(2px);
  will-change: transform;
}

.hero-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, 
    rgba(0, 0, 0, 0.7) 0%, 
    rgba(26, 26, 46, 0.8) 25%, 
    rgba(22, 33, 62, 0.6) 50%, 
    rgba(15, 15, 35, 0.8) 100%);
  backdrop-filter: blur(1px);
}

.hero-container {
  max-width: clamp(300px, 90vw, 1000px);
  width: 100%;
  position: relative;
  z-index: 2;
  text-align: center;
}

.cosmic-title {
  text-align: center;
  margin-bottom: clamp(2rem, 6vw, 4rem);
}

/* –ú–ê–°–®–¢–ê–ë–ò–†–£–ï–ú–´–ï —Ä–∞–∑–º–µ—Ä—ã —Å clamp() */
.universe-title {
  font-size: clamp(2.5rem, 8vw, 6rem);
  font-weight: 900;
  line-height: 0.9;
  margin-bottom: clamp(1rem, 3vw, 2rem);
}

.title-word {
  display: block;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #667eea 100%);
  background-size: 200% 200%;
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  animation: title-appear 0.8s ease forwards, cosmic-gradient 8s ease infinite;
  transform: translateY(50px);
  opacity: 0;
  will-change: transform, opacity;
}

@keyframes title-appear {
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes cosmic-gradient {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.subtitle-constellation {
  display: flex;
  flex-direction: column;
  gap: clamp(0.5rem, 2vw, 1rem);
  align-items: center;
}

.constellation-text {
  font-size: clamp(1.2rem, 3vw, 1.5rem);
  font-weight: 600;
  color: rgba(255, 255, 255, 0.8);
}

.constellation-line {
  width: clamp(120px, 30vw, 200px);
  height: 2px;
  background: linear-gradient(90deg, #667eea, #764ba2);
  border-radius: 1px;
}

.year-badge {
  background: rgba(102, 126, 234, 0.1);
  border: 1px solid rgba(102, 126, 234, 0.3);
  padding: clamp(0.4rem, 1.5vw, 0.5rem) clamp(1rem, 3vw, 1.5rem);
  border-radius: 50px;
  font-weight: 600;
  color: #667eea;
  backdrop-filter: blur(5px);
  font-size: clamp(0.8rem, 2vw, 1rem);
}

.scroll-indicator {
  margin-top: 3rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.scroll-indicator span {
  font-size: 0.8rem;
  letter-spacing: 2px;
  font-weight: 500;
}

.scroll-indicator svg {
  animation: bounce 2s infinite;
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-8px); }
  60% { transform: translateY(-4px); }
}

/* –ê–î–ê–ü–¢–ò–í–ù–ê–Ø –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
.story-navigation.fixed-nav {
  position: fixed;
  top: clamp(10px, 2vw, 20px);
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  margin: 0;
}

.nav-glass {
  background: rgba(12, 18, 23, 0.95);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 50px;
  padding: clamp(0.5rem, 1.5vw, 0.8rem);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.nav-items {
  display: flex;
  gap: clamp(0.2rem, 0.8vw, 0.3rem);
}

.nav-link {
  display: flex;
  align-items: center;
  gap: clamp(0.4rem, 1vw, 0.6rem);
  padding: clamp(0.4rem, 1.2vw, 0.6rem) clamp(0.8rem, 2vw, 1.2rem);
  color: rgba(255, 255, 255, 0.7);
  text-decoration: none;
  border-radius: 40px;
  transition: all 0.3s ease;
  font-weight: 500;
  background: transparent;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: clamp(0.8rem, 1.8vw, 0.9rem);
}

.nav-link:hover,
.nav-link.active {
  background: rgba(102, 126, 234, 0.2);
  color: white;
  border: 1px solid rgba(102, 126, 234, 0.3);
  transform: translateY(-1px);
}

/* –ê–î–ê–ü–¢–ò–í–ù–´–ô –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
.story-cosmos {
  max-width: 1200px;
  margin: 0 auto;
  padding: clamp(3rem, 8vw, 5rem) clamp(1rem, 3vw, 2rem) 0;
}

.story-chapter {
  margin-bottom: clamp(6rem, 15vw, 10rem);
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.6s ease;
}

.story-chapter.animate-in {
  opacity: 1;
  transform: translateY(0);
}

.chapter-container {
  width: 100%;
}

.chapter-header {
  text-align: center;
  margin-bottom: clamp(2rem, 5vw, 3rem);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(0.5rem, 1.5vw, 0.8rem);
}

.chapter-number {
  font-size: clamp(0.9rem, 2vw, 1rem);
  color: #667eea;
  font-weight: 600;
  margin-bottom: clamp(0.3rem, 1vw, 0.5rem);
  opacity: 0.8;
}

.chapter-title {
  font-size: clamp(2rem, 6vw, 3.5rem);
  font-weight: 800;
  background: linear-gradient(135deg, #667eea, #764ba2);
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  margin-bottom: clamp(0.3rem, 1vw, 0.5rem);
}

.chapter-subtitle {
  font-size: clamp(1rem, 2.5vw, 1.1rem);
  color: rgba(255, 255, 255, 0.6);
  font-weight: 400;
}

/* –ò—Å—Ç–æ—Ä–∏—è */
.story-flow {
  display: flex;
  flex-direction: column;
  gap: 2.5rem;
  max-width: 900px;
  margin: 0 auto;
}

.story-moment {
  opacity: 0;
  transform: translateX(-30px);
  transition: all 0.5s ease;
}

.story-moment.animate-in {
  opacity: 1;
  transform: translateX(0);
}

.story-moment:nth-child(even) {
  transform: translateX(30px);
}

.story-moment:nth-child(even).animate-in {
  transform: translateX(0);
}

.moment-content {
  padding: 2rem;
  display: flex;
  gap: 1.5rem;
  align-items: flex-start;
}

.moment-icon {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  color: white;
  flex-shrink: 0;
}

.moment-text h3 {
  font-size: 1.6rem;
  margin-bottom: 0.8rem;
  color: white;
}

.moment-text p {
  font-size: 1rem;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.8);
}

.quote-panel {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
  border-color: rgba(102, 126, 234, 0.2);
  text-align: center;
  flex-direction: column;
}

.quote-mark {
  font-size: 3rem;
  color: #667eea;
  opacity: 0.3;
  line-height: 1;
}

.quote-panel blockquote {
  font-size: 1.2rem;
  font-style: italic;
  color: rgba(255, 255, 255, 0.9);
  max-width: 600px;
}

/* –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ï –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è */
.travels-showcase {
  max-width: 850px;
  margin: 0 auto;
}

.travels-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1.5rem;
  margin-bottom: 2.5rem;
}

.control-btn {
  background: rgba(102, 126, 234, 0.1);
  border: 1px solid rgba(102, 126, 234, 0.3);
  color: white;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
}

.control-btn:hover:not(:disabled) {
  background: rgba(102, 126, 234, 0.2);
  transform: scale(1.05);
}

.control-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.travels-dots {
  display: flex;
  gap: 0.8rem;
}

.travel-dot {
  padding: 0.6rem 1rem;
  border-radius: 15px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.7);
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
  font-weight: 600;
  font-size: 0.85rem;
}

.travel-dot.active {
  background: rgba(102, 126, 234, 0.2);
  border-color: #667eea;
  color: white;
  transform: translateY(-1px);
}

.journey-display {
  max-width: 750px;
  margin: 0 auto;
}

.journey-card {
  padding: 0;
  overflow: hidden;
  transition: all 0.3s ease;
}

.journey-card:hover {
  transform: translateY(-3px);
}

.journey-image {
  position: relative;
  height: 350px;
  overflow: hidden;
}

.journey-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}

.journey-card:hover .journey-image img {
  transform: scale(1.03);
}

.journey-badge {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: rgba(102, 126, 234, 0.9);
  color: white;
  padding: 0.6rem 1.2rem;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 600;
  backdrop-filter: blur(5px);
}

.journey-content {
  padding: 2rem;
}

.journey-title {
  font-size: 1.8rem;
  font-weight: 700;
  color: white;
  margin-bottom: 1.2rem;
}

.journey-text {
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
}

.journey-description {
  color: rgba(255, 255, 255, 0.9);
  font-size: 1rem;
  line-height: 1.6;
}

.journey-highlight {
  background: rgba(102, 126, 234, 0.15);
  border-radius: 12px;
  padding: 1.2rem;
  border-left: 3px solid #667eea;
  display: flex;
  gap: 0.8rem;
  align-items: flex-start;
}

.highlight-icon {
  font-size: 1.1rem;
  flex-shrink: 0;
}

.highlight-text {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.95);
  line-height: 1.5;
  font-style: italic;
}

/* –£–õ–£–ß–®–ï–ù–ù–ê–Ø –≥–∞–ª–µ—Ä–µ—è –±–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
.gallery-chapter.fullwidth {
  margin-left: calc(-50vw + 50%);
  margin-right: calc(-50vw + 50%);
  width: 100vw;
  max-width: none;
  padding: 0;
}

.gallery-chapter.fullwidth .chapter-header {
  margin-bottom: 2.5rem;
  padding: 0 2rem;
}

.gallery-showcase {
  width: 100%;
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.03), rgba(118, 75, 162, 0.03));
  padding: 3rem 0;
  position: relative;
}

/* –ê–î–ê–ü–¢–ò–í–ù–ê–Ø –°–ï–¢–ö–ê –ì–ê–õ–ï–†–ï–ò */
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
  gap: clamp(1rem, 3vw, 2rem);
  padding: 0 clamp(1rem, 3vw, 2rem);
  max-width: 1400px;
  margin: 0 auto;
}

.gallery-item {
  position: relative;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 15px;
  overflow: hidden;
  transition: transform 0.3s ease;
}

.gallery-item:hover {
  transform: translateY(-5px);
}

.gallery-image {
  position: relative;
  width: 100%;
  height: clamp(250px, 40vw, 400px);
  overflow: hidden;
}

.gallery-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.gallery-item:hover .gallery-image img {
  transform: scale(1.03);
}

.gallery-caption {
  padding: clamp(1rem, 2.5vw, 1.5rem);
  background: rgba(0, 0, 0, 0.8);
  color: white;
}

.gallery-caption p {
  font-size: clamp(0.85rem, 2vw, 0.95rem);
  line-height: 1.4;
  margin: 0;
  font-weight: 500;
}

/* –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏ */
.gallery-loading,
.gallery-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 3rem 2rem;
  text-align: center;
}

.loading-spinner {
  margin-bottom: 1.2rem;
}

.spinner {
  width: 50px;
  height: 50px;
  border: 3px solid rgba(102, 126, 234, 0.2);
  border-top: 3px solid #667eea;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loading-text {
  color: rgba(255, 255, 255, 0.8);
  font-size: 1.1rem;
  font-weight: 500;
}

.error-icon {
  font-size: 2.5rem;
  margin-bottom: 0.8rem;
}

.error-text {
  color: #ff6b6b;
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 0.4rem;
}

.error-subtext {
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.95rem;
}

.gallery-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 1.5rem 2rem;
}

.gallery-info {
  display: flex;
  align-items: center;
  gap: 0.8rem;
}

.gallery-count {
  color: rgba(255, 255, 255, 0.7);
  font-weight: 600;
  font-size: 1rem;
}

.gallery-buttons {
  display: flex;
  gap: 0.8rem;
}

.gallery-btn {
  background: rgba(102, 126, 234, 0.1);
  border: 1px solid rgba(102, 126, 234, 0.3);
  color: white;
  padding: 0.6rem 1.2rem;
  border-radius: 40px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 0.4rem;
  font-weight: 500;
  text-decoration: none;
  backdrop-filter: blur(5px);
  font-family: inherit;
  font-size: 0.9rem;
}

.gallery-btn:hover {
  background: rgba(102, 126, 234, 0.2);
  border-color: rgba(102, 126, 234, 0.5);
  transform: translateY(-1px);
}

/* –§–µ–ª–ª–∏ —Å–µ–∫—Ü–∏—è - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è */
.felli-showcase-new {
  display: grid;
  gap: 2.5rem;
}

.felli-origin {
  padding: 2rem;
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
  border-color: rgba(102, 126, 234, 0.3);
}

.origin-content {
  text-align: center;
}

.origin-icon {
  font-size: 2.5rem;
  margin-bottom: 1.2rem;
  display: block;
}

.origin-content h3 {
  font-size: 1.8rem;
  color: #667eea;
  margin-bottom: 1.5rem;
}

.name-formula {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.8rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.name-part {
  font-size: 1.3rem;
  font-weight: 700;
  padding: 0.6rem 1.2rem;
  border-radius: 12px;
  backdrop-filter: blur(5px);
}

.name-part.taffy {
  background: linear-gradient(135deg, #f093fb, #f5576c);
  color: white;
}

.name-part.felix {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
}

.name-part.result {
  background: linear-gradient(135deg, #4ecdc4, #44a08d);
  color: white;
  animation: glow 3s ease-in-out infinite;
}

.plus, .equals {
  font-size: 1.5rem;
  color: #667eea;
  font-weight: 700;
}

@keyframes glow {
  0%, 100% { box-shadow: 0 0 15px rgba(78, 205, 196, 0.3); }
  50% { box-shadow: 0 0 25px rgba(78, 205, 196, 0.6), 0 0 35px rgba(78, 205, 196, 0.3); }
}

.origin-content p {
  font-size: 1rem;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.8);
  max-width: 550px;
  margin: 0 auto;
}

.felli-hero {
  padding: 2.5rem;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2.5rem;
  align-items: center;
}

.felli-portrait {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
}

.portrait-container {
  position: relative;
  width: 250px;
  height: 250px;
}

.main-portrait {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  transition: transform 0.3s ease;
}

.portrait-container:hover .main-portrait {
  transform: scale(1.03);
}

.portrait-ring {
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -8px;
  border: 2px solid transparent;
  border-radius: 50%;
  background: linear-gradient(45deg, #667eea, #764ba2, #f093fb) border-box;
  mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
  mask-composite: subtract;
  animation: rotate-ring 12s linear infinite;
}

@keyframes rotate-ring {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.felli-info {
  text-align: center;
}

.felli-name {
  font-size: 2.2rem;
  font-weight: 900;
  background: linear-gradient(45deg, #667eea, #764ba2);
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  margin-bottom: 0.4rem;
}

.felli-type {
  font-size: 1.1rem;
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: 0.8rem;
  display: block;
}

.felli-intro {
  font-size: 1rem;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.7);
}

.felli-variants h4 {
  font-size: 1.2rem;
  color: #667eea;
  margin-bottom: 1.2rem;
  text-align: center;
}

.variants-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.8rem;
}

.variant-item {
  padding: 0.8rem;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: center;
  border: 2px solid transparent;
  background: rgba(255, 255, 255, 0.02);
}

.variant-item.active,
.variant-item:hover {
  border-color: #667eea;
  background: rgba(102, 126, 234, 0.1);
  transform: translateY(-3px);
}

.variant-item img {
  width: 100%;
  height: 70px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 0.4rem;
}

.variant-name {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.8);
  font-weight: 500;
}

.felli-heritage {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.heritage-card {
  padding: 1.5rem;
  transition: all 0.3s ease;
}

.heritage-card:hover {
  transform: translateY(-5px);
}

.heritage-header {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  margin-bottom: 1.5rem;
}

.heritage-icon {
  font-size: 2rem;
}

.heritage-card h4 {
  font-size: 1.2rem;
  color: white;
  margin: 0;
}

.heritage-abilities {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

.ability {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0.8rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 10px;
  transition: all 0.3s ease;
}

.ability:hover {
  background: rgba(255, 255, 255, 0.08);
  transform: translateX(3px);
}

.ability i {
  color: #667eea;
  font-size: 1.1rem;
  width: 20px;
  text-align: center;
}

.ability span {
  color: white;
  font-weight: 600;
  font-size: 0.95rem;
}

.felix-heritage {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
  border-color: rgba(102, 126, 234, 0.3);
}

.taffy-heritage {
  background: linear-gradient(135deg, rgba(240, 147, 251, 0.1), rgba(245, 87, 108, 0.1));
  border-color: rgba(240, 147, 251, 0.3);
}

.unique-heritage {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
  border-color: rgba(102, 126, 234, 0.3);
}

.felli-quote {
  padding: 2.5rem;
  text-align: center;
  background: linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(102, 126, 234, 0.1));
  border-color: rgba(255, 107, 157, 0.3);
  position: relative;
}

.quote-icon {
  font-size: 2.5rem;
  margin-bottom: 1.2rem;
  display: block;
}

.felli-quote blockquote {
  font-size: 1.2rem;
  font-style: italic;
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.6;
  margin-bottom: 1.2rem;
  max-width: 550px;
  margin-left: auto;
  margin-right: auto;
}

.felli-quote cite {
  color: #667eea;
  font-weight: 600;
  font-style: normal;
}

/* –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ï —Ñ–∞–∫—Ç—ã */
.facts-section {
  padding: 3rem 2rem;
  border-radius: 25px;
}

.facts-timeline {
  max-width: 750px;
  margin: 0 auto;
  position: relative;
}

.timeline-line {
  position: absolute;
  left: 25px;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(to bottom, #667eea, #764ba2, #f093fb);
  border-radius: 2px;
  opacity: 0.3;
}

.facts-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.fact-item {
  display: flex;
  align-items: flex-start;
  gap: 1.5rem;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 15px;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
  position: relative;
  opacity: 0;
  transform: translateX(-20px);
  animation: fade-in-timeline 0.5s ease forwards;
}

@keyframes fade-in-timeline {
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.fact-item:hover,
.fact-item.active {
  background: rgba(102, 126, 234, 0.1);
  border-color: rgba(102, 126, 234, 0.3);
  transform: translateX(8px);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
}

.fact-number {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: white;
  font-size: 1rem;
  flex-shrink: 0;
  position: relative;
  z-index: 2;
}

.fact-icon {
  width: 50px;
  height: 50px;
  background: rgba(102, 126, 234, 0.1);
  border: 2px solid rgba(102, 126, 234, 0.3);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.3rem;
  color: #667eea;
  flex-shrink: 0;
  transition: all 0.3s ease;
}

.fact-item:hover .fact-icon,
.fact-item.active .fact-icon {
  background: rgba(102, 126, 234, 0.2);
  border-color: #667eea;
  transform: scale(1.05);
}

.fact-content {
  flex: 1;
  min-width: 0;
}

.fact-title {
  font-size: 1.2rem;
  color: white;
  margin-bottom: 0.4rem;
  font-weight: 600;
}

.fact-description {
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.95rem;
  line-height: 1.5;
  margin-top: 0.8rem;
  animation: expand-text 0.3s ease;
}

@keyframes expand-text {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fact-arrow {
  color: rgba(255, 255, 255, 0.5);
  font-size: 1.1rem;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

.fact-arrow .fa-chevron-down {
  transition: transform 0.3s ease;
}

.fact-arrow .fa-chevron-down.rotated {
  transform: rotate(180deg);
}

.fact-item:hover .fact-arrow {
  color: #667eea;
}

/* –ü–∏—Å—å–º–æ –ª—é–±–≤–∏ */
.love-letter-cosmos {
  display: flex;
  justify-content: center;
}

.letter-paper {
  max-width: 650px;
  padding: 2.5rem;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.letter-header {
  text-align: center;
  margin-bottom: 1.8rem;
}

.letter-hearts {
  display: flex;
  justify-content: center;
  gap: 0.8rem;
  margin-bottom: 0.8rem;
}

.heart {
  font-size: 1.3rem;
  animation: heart-float 2.5s ease infinite;
}

@keyframes heart-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.letter-header h3 {
  font-size: 1.8rem;
  color: #667eea;
}

.letter-content {
  margin-bottom: 1.8rem;
}

.letter-paragraph {
  font-size: 1.1rem;
  line-height: 1.7;
  margin-bottom: 1.2rem;
  color: rgba(255, 255, 255, 0.9);
}

.letter-signature {
  text-align: right;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.8rem;
}

.signature-line {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.signature-text {
  color: rgba(255, 255, 255, 0.7);
  font-style: italic;
}

.signature-name {
  color: #f093fb;
  font-weight: 600;
  font-size: 1.1rem;
}

.signature-emoji {
  font-size: 1.8rem;
}

/* –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ—É—Ç–µ—Ä */
.cosmos-footer {
  margin-top: 6rem;
  padding: 2.5rem 2rem;
  background: rgba(12, 18, 23, 0.95);
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.footer-content {
  max-width: 750px;
  margin: 0 auto;
  padding: 1.8rem;
  text-align: center;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.footer-copyright {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.8rem;
}

.copyright-text {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.7);
  font-weight: 500;
}

.separator {
  color: rgba(255, 255, 255, 0.3);
}

.copyright-text a {
  color: #667eea;
  text-decoration: none;
  transition: all 0.3s ease;
}

.copyright-text a:hover {
  color: #f093fb;
  text-shadow: 0 0 8px rgba(240, 147, 251, 0.3);
}

.version {
  color: rgba(102, 126, 234, 0.8);
  font-weight: 600;
}

.footer-subtitle {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.6);
  font-style: italic;
  margin-top: 0.4rem;
}

/* –ê–î–ê–ü–¢–ò–í–ù–´–ï –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã */
@media (max-width: 1024px) {
  .nav-link span {
    display: none;
  }
  
  .nav-link {
    width: clamp(40px, 6vw, 45px);
    height: clamp(40px, 6vw, 45px);
    justify-content: center;
    padding: 0;
  }
  
  .felli-hero {
    grid-template-columns: 1fr;
    text-align: center;
    gap: clamp(1.5rem, 4vw, 2rem);
  }
  
  .facts-timeline {
    padding-left: clamp(0.5rem, 2vw, 0.8rem);
  }
  
  .timeline-line {
    left: clamp(8px, 2vw, 12px);
  }
  
  .fact-item {
    margin-left: clamp(1rem, 3vw, 1.5rem);
  }
}

@media (max-width: 768px) {
  .moment-content {
    flex-direction: column;
    text-align: center;
    padding: clamp(1rem, 3vw, 1.5rem);
  }
  
  .travels-controls {
    flex-direction: column;
    gap: clamp(1rem, 2.5vw, 1.2rem);
  }
  
  .control-btn {
    width: clamp(35px, 6vw, 40px);
    height: clamp(35px, 6vw, 40px);
  }
  
  .travels-dots {
    flex-wrap: wrap;
    justify-content: center;
    gap: clamp(0.4rem, 1.5vw, 0.6rem);
  }
  
  .travel-dot {
    padding: clamp(0.4rem, 1.2vw, 0.5rem) clamp(0.6rem, 2vw, 0.8rem);
    font-size: clamp(0.75rem, 1.8vw, 0.8rem);
  }
  
  .journey-content {
    padding: clamp(1.2rem, 3vw, 1.5rem);
  }
  
  .journey-title {
    font-size: clamp(1.3rem, 4vw, 1.5rem);
  }
  
  .journey-description {
    font-size: clamp(0.9rem, 2.2vw, 0.95rem);
  }
  
  .journey-highlight {
    padding: clamp(0.8rem, 2.5vw, 1rem);
  }
  
  .portrait-container {
    width: clamp(160px, 35vw, 200px);
    height: clamp(160px, 35vw, 200px);
  }
  
  .variants-grid {
    grid-template-columns: 1fr 1fr;
  }
  
  .felli-heritage {
    grid-template-columns: 1fr;
  }
  
  .fact-item {
    flex-direction: column;
    text-align: center;
    gap: clamp(0.8rem, 2vw, 1rem);
    margin-left: 0;
  }
  
  .timeline-line {
    display: none;
  }
  
  .copyright-text {
    flex-direction: column;
    gap: clamp(0.3rem, 1vw, 0.4rem);
  }
}

@media (max-width: 480px) {
  .glass-panel {
    padding: clamp(1rem, 3vw, 1.2rem);
  }
  
  .travels-showcase {
    padding: 0 clamp(0.5rem, 2vw, 0.8rem);
  }
  
  .control-btn {
    width: clamp(30px, 5vw, 35px);
    height: clamp(30px, 5vw, 35px);
  }
  
  .travels-dots {
    gap: clamp(0.3rem, 1vw, 0.4rem);
  }
  
  .travel-dot {
    padding: clamp(0.3rem, 1vw, 0.4rem) clamp(0.5rem, 1.5vw, 0.6rem);
    font-size: clamp(0.7rem, 1.5vw, 0.75rem);
  }
  
  .journey-content {
    padding: clamp(1rem, 2.5vw, 1.2rem);
  }
  
  .journey-title {
    font-size: clamp(1.2rem, 3.5vw, 1.3rem);
  }
  
  .journey-description {
    font-size: clamp(0.85rem, 2vw, 0.9rem);
  }
  
  .journey-highlight {
    padding: clamp(0.6rem, 2vw, 0.8rem);
    flex-direction: column;
    text-align: center;
  }
  
  .highlight-text {
    font-size: clamp(0.8rem, 1.8vw, 0.85rem);
  }
  
  .portrait-container {
    width: clamp(140px, 30vw, 160px);
    height: clamp(140px, 30vw, 160px);
  }
  
  .felli-name {
    font-size: clamp(1.6rem, 4vw, 1.8rem);
  }
  
  .variants-grid {
    grid-template-columns: 1fr;
  }
  
  .variant-item img {
    height: clamp(80px, 15vw, 100px);
  }
  
  .name-formula {
    flex-direction: column;
    gap: clamp(0.3rem, 1vw, 0.4rem);
  }
  
  .name-part {
    font-size: clamp(1rem, 2.5vw, 1.1rem);
  }
  
  .plus, .equals {
    font-size: clamp(1.2rem, 3vw, 1.3rem);
  }
  
  .gallery-controls {
    flex-direction: column;
    gap: clamp(0.6rem, 2vw, 0.8rem);
    text-align: center;
  }
  
  .gallery-buttons {
    justify-content: center;
  }
  
  .fact-number {
    width: clamp(30px, 5vw, 35px);
    height: clamp(30px, 5vw, 35px);
    font-size: clamp(0.8rem, 2vw, 0.9rem);
  }
  
  .fact-icon {
    width: clamp(40px, 6vw, 45px);
    height: clamp(40px, 6vw, 45px);
    font-size: clamp(1rem, 2.2vw, 1.1rem);
  }
  
  .fact-title {
    font-size: clamp(1rem, 2.5vw, 1.1rem);
  }
  
  .fact-description {
    font-size: clamp(0.8rem, 2vw, 0.85rem);
  }
  
  .letter-paper {
    padding: clamp(1.5rem, 4vw, 1.8rem);
  }
  
  .letter-paragraph {
    font-size: clamp(0.95rem, 2.2vw, 1rem);
  }
  
  .footer-content {
    padding: clamp(1rem, 3vw, 1.2rem);
  }
}

/* –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–û–ù–ù–´–ï —Å—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .star {
    animation: none;
  }
  
  .aurora {
    animation: none;
  }
  
  .portrait-ring {
    animation: none;
  }
  
  .heart {
    animation: none;
  }
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .hero-bg-image {
    image-rendering: -webkit-optimize-contrast;
  }
}

/* –ü–ª–∞–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
img {
  transition: opacity 0.3s ease;
}

img:not([src]) {
  opacity: 0;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ - —Ñ–æ–∫—É—Å */
button:focus,
.nav-link:focus,
.gallery-item:focus {
  outline: 2px solid #667eea;
  outline-offset: 2px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –ø–µ—á–∞—Ç–∏ */
@media print {
  .scroll-indicator,
  .fixed-nav,
  .gallery-controls {
    display: none !important;
  }
  
  .hero-universe {
    height: auto;
    min-height: 40vh;
  }
  
  .chapter-title,
  .universe-title {
    color: #333 !important;
  }
  
  .story-cosmos {
    color: #333 !important;
  }
  
  .glass-panel {
    background: rgba(0, 0, 0, 0.05) !important;
    border: 1px solid #ddd !important;
  }
}

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è GPU */
.star,
.aurora,
.hero-bg-image,
.portrait-ring {
  will-change: transform;
}

.glass-panel,
.journey-card,
.gallery-item,
.fact-item {
  will-change: transform;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è layout */
.felix-universe,
.story-cosmos,
.chapter-container {
  contain: layout style;
}

/* –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
.cosmic-background,
.hero-background {
  transform: translateZ(0);
}
</style>